(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{440:function(o,i,l){},479:function(o,i,l){"use strict";l(440)},503:function(o,i,l){"use strict";l.r(i);l(17);var t={name:"ScrollTopLoadingData",data:()=>({idx:5,boxList:[5,4,3,2,1],loadingText:"loading...",showLoading:!1,beforeScrollHeight:0}),mounted(){this.$refs.scrollTopLoadingDataRef.scrollTop=this.$refs.scrollTopLoadingDataRef.scrollHeight},methods:{onScroll:async o=>{let i=document.querySelector("#scroll-top-loading-data");if(0===o.target.scrollTop&&!(void 0).showLoading){console.log("开始加载数据。。。"),(void 0).beforeScrollHeight=i.scrollHeight,(void 0).showLoading=!0;try{const o=await(void 0).getBoxes();if(console.log("result",o),0===o.length)return void((void 0).loadingText="没有更多数据了");(void 0).boxList.unshift(...o)}catch(o){console.log(o)}finally{(void 0).showLoading=!1}i.scrollTop=i.scrollHeight-(void 0).beforeScrollHeight}},getBoxes:()=>new Promise(o=>{let i=[];setTimeout(()=>{if((void 0).idx>10)o(i);else{for(let o=(void 0).idx+9;o>=(void 0).idx;o--)i.push(o);(void 0).idx=(void 0).idx+10,o(i)}},2e3)})}},e=(l(479),l(3)),s=Object(e.a)(t,(function(){var o=this,i=o._self._c;return i("div",{ref:"scrollTopLoadingDataRef",attrs:{id:"scroll-top-loading-data"},on:{scroll:o.onScroll}},[o.showLoading?i("div",{staticClass:"loading"},[o._v(o._s(o.loadingText))]):o._e(),o._v(" "),o._l(o.boxList,(function(l){return i("div",{key:l,staticClass:"box"},[o._v(o._s(l))])}))],2)}),[],!1,null,"07e8b451",null);i.default=s.exports}}]);